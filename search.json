[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Mediation course",
    "section": "",
    "text": "Welcome to the IDEG workshop on Mediation Analysis and Directed Acyclic Graphs\nDuring this short workshop, you will be introduced to traditional mediation approaches before exploring the theory of causal mediation, as a method to investigate disease mechanisms in the context of diabetes.\nWe hope this will be the beginning of your journey in mediation analysis and open the door to more theory-grounded studies in aetiological diabetes epidemiology! The workshop is offered as part of the International Diabetes Epidemiology Group (IDEG) Trainee Workshop in Bangkok, Thailand, on 3 April 2025.\nThe workshop requires some pre-course preparation to install R and R Studio as well as some necessary packages and data. Furthermore, for those unfamiliar with Directed Acyclic Graphs (DAGs), some introductory reading and exercises are included in the pre-course materials.\nThe face-to-face workshop will consist of a combination of brief lectures and hands-on coding practice in R code-along sessions. We encourage students to discuss the materials and network during the entire Trainee Workshop. The instructors will be available to answer questions throughout the day.\nüóì April 3, 2025 üè® Bangkok, Thailand",
    "crumbs": [
      "Welcome to the IDEG workshop on Mediation Analysis and Directed Acyclic Graphs"
    ]
  },
  {
    "objectID": "index.html#overall-learning-outcomes",
    "href": "index.html#overall-learning-outcomes",
    "title": "Mediation course",
    "section": "Overall learning outcomes",
    "text": "Overall learning outcomes\n\n\n\n\n\n\nThe overall workshop objective\n\n\n\nThis course introduces participants to the fundamental principles, analytical tools, and essential skills needed to understand and apply modern mediation analysis for investigating disease mechanisms\n\n\nThe more specific learning outcomes include:\n\nExplain the theoretical concepts and statistical methods regarding traditional and modern mediation analysis applied to basic, clinical and epidemiological research on diabetes and endocrine diseases\nPerform traditional, causal and modern mediation analysis using R software\nPresent results from mediation analysis according to the current mediation analysis reporting guidelines\nInterpret results from mediation analysis and suggest relevant sensitivity analyses for mediation analyses\nDiscuss the strengths, limitations and assumptions of traditional, causal and modern mediation analysis\n\n\nThe target audience\nPhD students and postdoctoral researchers working with clinical and epidemiological studies of diabetes, its causes and consequencesits endocrinology, that are planning to conduct mediation analysis or that are interested in widening their analysis toolkit.\n\n\nPrerequisites\nTo make the most of our training course in Bangkok, please complete the pre-course tasks before you arrive. This will ensure we can start our sessions smoothly and dive right into the content!\n\n\n\n\n\n\n\nPractical information\n\n\n\n\nPlease complete the Pre-course tasks before you start the course.\nIf you are interested in more networking with the speakers and want to learn more about their research, please check our previous 3-day course on mediation analyses: https://github.com/steno-aarhus/mediation-analysis-course",
    "crumbs": [
      "Welcome to the IDEG workshop on Mediation Analysis and Directed Acyclic Graphs"
    ]
  },
  {
    "objectID": "index.html#schedule",
    "href": "index.html#schedule",
    "title": "Mediation course",
    "section": "Schedule",
    "text": "Schedule\nWe will combine lectures with code-along sessions, group work, and discussions.\n\nApril 3, 2025\n\n\n\n\n\nTime\nContent\n\n\n\n\n12.45-12.55\nIntroduction to the course and the topic (DW)\n\n\n12.55-13.15\nTraditional mediation analysis (DW)\n\n\n13.15-13.30\nCausal mediation analysis: introduction (DW)\n\n\n13.30-13.45\nCausal mediation analysis: estimates (JZ)\n\n\n13.45-14.00\nGroup work + Reflections (JZ)\n\n\n\nInstructors: Daniel Witte (DW), Jie Zhang (JZ)",
    "crumbs": [
      "Welcome to the IDEG workshop on Mediation Analysis and Directed Acyclic Graphs"
    ]
  },
  {
    "objectID": "index.html#pre-work",
    "href": "index.html#pre-work",
    "title": "Mediation course",
    "section": "‚ö†Ô∏è Pre-Work",
    "text": "‚ö†Ô∏è Pre-Work\nIf you are a workshop attendee and have any trouble with installation locally, please reach out to us directly!\n1Ô∏è‚É£ Install R (Latest Version) Download and install the latest version of R based on your operating system: https://cran.r-project.org/\n2Ô∏è‚É£ Install RStudio Visit RStudio Download Page: https://posit.co/products/open-source/rstudio/ Click ‚ÄúDownload RStudio‚Äù and follow the instructions.\n3Ô∏è‚É£ Check Your R Version If you already have R installed, check your version to ensure compatibility:\nR.Version()\nIf your R version is 4.3.1 or later, you‚Äôre good to go!\n4Ô∏è‚É£ Install Required R Packages To ensure you have all necessary packages, run the following command in R:\n\ninstall.packages(\"pak\")\npak::pkg_install(\"tidyverse\")\npak::pkg_install(\"DiagrammeR\")\npak::pkg_install(\"downlit\")\npak::pkg_install(\"furrr\")\npak::pkg_install(\"here\")\npak::pkg_install(\"knitr\")\npak::pkg_install(\"mediation\")\npak::pkg_install(\"NetCoupler\")\npak::pkg_install(\"rmarkdown\")\npak::pkg_install(\"survival\")\npak::pkg_install(\"xml2\")\npak::pkg_install(\"here\")\npak::pkg_install(\"BS1125/CMAverse\")\npak::pkg_install(\"ggdag\")\npak::pkg_install(\"ggplot2\")",
    "crumbs": [
      "Welcome to the IDEG workshop on Mediation Analysis and Directed Acyclic Graphs"
    ]
  },
  {
    "objectID": "index.html#building-the-course",
    "href": "index.html#building-the-course",
    "title": "Mediation course",
    "section": "Building the course",
    "text": "Building the course\nThe course material was created using Quarto to write the lessons and create the book format, GitHub to host the Git repository of the material, and GitHub Actions to create and host the website. The original source material for this course is found on the steno-aarhus/mediation-analysis-course GitHub repository.",
    "crumbs": [
      "Welcome to the IDEG workshop on Mediation Analysis and Directed Acyclic Graphs"
    ]
  },
  {
    "objectID": "index.html#licensing",
    "href": "index.html#licensing",
    "title": "Mediation course",
    "section": "Re-use and licensing",
    "text": "Re-use and licensing\n\nThe course is licensed under the Creative Commons Attribution 4.0 International License so the material can be used, re-used, and modified, as long as there is attribution to this source.",
    "crumbs": [
      "Welcome to the IDEG workshop on Mediation Analysis and Directed Acyclic Graphs"
    ]
  },
  {
    "objectID": "index.html#acknowledgements",
    "href": "index.html#acknowledgements",
    "title": "Mediation course",
    "section": "Acknowledgements",
    "text": "Acknowledgements\nThis course is adapted from ‚ÄòMediation Analysis Course‚Äô developed by Daniel B. Ibsen, Omar Silverman, Jie Zhang from Steno Diabetes Center Aarhus in Denmark, and Nima Hejarzi and Ivan Diaz from the US, which is sponsored by the Danish Diabetes and Endocrine Academy.",
    "crumbs": [
      "Welcome to the IDEG workshop on Mediation Analysis and Directed Acyclic Graphs"
    ]
  },
  {
    "objectID": "sessions/welcome.html",
    "href": "sessions/welcome.html",
    "title": "1¬† Mediation Analysis",
    "section": "",
    "text": "1.1 Welcome\nWelcome to the short workshop on Directed Acyclic Graphs (DAGs) and mediation analysis!\nInstrctors: Daniel Witte, Jie Zhang\nTime duration: 75 mins",
    "crumbs": [
      "Sessions",
      "<span class='chapter-number'>1</span>¬† <span class='chapter-title'>Mediation Analysis</span>"
    ]
  },
  {
    "objectID": "sessions/welcome.html#important-things-before-the-course",
    "href": "sessions/welcome.html#important-things-before-the-course",
    "title": "1¬† Mediation Analysis",
    "section": "2.1 Important things before the course",
    "text": "2.1 Important things before the course\nTo make the most of our training course in Bangkok, please complete the pre-course tasks before you arrive. This will ensure we can start our sessions smoothly and dive right into the content!",
    "crumbs": [
      "Sessions",
      "<span class='chapter-number'>1</span>¬† <span class='chapter-title'>Mediation Analysis</span>"
    ]
  },
  {
    "objectID": "sessions/welcome.html#course-outline-1",
    "href": "sessions/welcome.html#course-outline-1",
    "title": "1¬† Mediation Analysis",
    "section": "2.2 Course outline",
    "text": "2.2 Course outline\n\nMotivation\nTraditional mediation analysis\nIntroduction to causal mediation analysis\nPerform causal mediation analysis using R software\nInterpret results from causal mediation analysis",
    "crumbs": [
      "Sessions",
      "<span class='chapter-number'>1</span>¬† <span class='chapter-title'>Mediation Analysis</span>"
    ]
  },
  {
    "objectID": "sessions/welcome.html#acknowledgement",
    "href": "sessions/welcome.html#acknowledgement",
    "title": "1¬† Mediation Analysis",
    "section": "2.3 Acknowledgement",
    "text": "2.3 Acknowledgement\nThis course is developed based on ‚ÄòMediation Analysis Course‚Äô developed by Daniel B. Ibsen, Omar Silverman, Jie Zhang from Steno Diabetes Center Aarhus in Denmark, and Nima Hejarzi and Ivan Diaz from the US, which is sponsored by the Danish Diabetes and Endocrine Academy.\nThe repository contains the lesson, lecture, and assignment material for the course, including the website source files and other associated course administration files. You can always go to check the website to learn more about mediation.",
    "crumbs": [
      "Sessions",
      "<span class='chapter-number'>1</span>¬† <span class='chapter-title'>Mediation Analysis</span>"
    ]
  },
  {
    "objectID": "sessions/motivation.html",
    "href": "sessions/motivation.html",
    "title": "2¬† Motivation",
    "section": "",
    "text": "2.1 Mediation analysis in Epidemiology\nMediation analysis is the study of pathways and mechanisms through which an exposure or intervention impacts an outcome. In clinical and epidemiological research, the primary focus is often on determining whether a specific intervention has an effect on a disease or health outcome. Once this effect is established, the next natural question is to explore the ‚Äúblack box‚Äù‚Äîthe underlying mechanisms that explain how the intervention (or exposure) leads to the observed outcome. As we are not only interested in whether an intervention works, but how it works. ([@vanderweele_mediation_2016]).\nMediation analysis provides an answer to this HOW question, by uncovering the pathways and mechanisms that explain the causal relationship between the exposure (e.g., intervention or treatment) and the outcome. By doing so, mediation analysis helps to open the black box, showing not only if an intervention works but how it works, and guiding more effective and targeted interventions.",
    "crumbs": [
      "Sessions",
      "<span class='chapter-number'>2</span>¬† <span class='chapter-title'>Motivation</span>"
    ]
  },
  {
    "objectID": "sessions/motivation.html#motivation-for-mediation-analysis",
    "href": "sessions/motivation.html#motivation-for-mediation-analysis",
    "title": "2¬† Motivation",
    "section": "2.2 Motivation for mediation analysis",
    "text": "2.2 Motivation for mediation analysis\n\nExplanation and Understanding:\nUnpacking how and why certain factors (e.g., physical activity) impact outcomes (e.g., diabetes risk) through intermediary variables (e.g., weight loss).\nExample: Does body mass index mediate the relationship between diet and type 2 diabetes in mid-life?\nConfirmation and Refutation of Theory:\nTesting theories about the mechanisms behind health outcomes and determining whether certain factors mediate the relationships between exposures and outcomes.\nExample: Is the relationship between lower socioeconomic status and cardiovascular disease explained (mediated) through high allostatic load?\nRefining Interventions:\nUsing mediation analysis to improve the effectiveness of interventions by targeting key mediators, leading to better and more sustainable outcomes.\nExample: Let‚Äôs consider the evidence from the landmark prevention trials. The Diabetes Prevention Programme @knowler_reduction_2002, The Diabetes Prevention Study @tuomilehto_prevention_2001, and The Da Quin study @pan_effects_1997. These studies randomized high risk individuals to either metformin or a lifestyle intervention consisting of a physical activity or physical activity + diet. The main finding was a ~58% lower risk of incidence type 2 diabetes in the lifestyle intervention group compared to the metformin group.\n\n\n\n\n\n\n\nWe might be interested in further refining the intervention so as to increase the magnitude of the effect. This might be done by altering or improving components of the intervention that target a particular mechanism for the outcome and discarding those components of which perhaps are not relevant for the outcome.\nWhen implementing the same lifestyle interventions in real world settings, lifestyle interventions show smaller effect and the long-term adoption and sustainability over time were some of the challenges to the effectiveness of these prevention efforts\n\nlibrary(DiagrammeR)\ngrViz(\"\ndigraph {\n  graph []\n  node [shape = plaintext]\n    X [label = 'Lifestyle intervention']\n    M [label = 'Weight loss']\n    N [label = '?']\n  Y [label = 'Type 2 diabetes']\n  edge [minlen = 2]\n    X-&gt;M\n    M-&gt;Y\n    N-&gt;M\n   {rank = same; M; X; Y; }\n   {rank = min; N; }\n}\n\")",
    "crumbs": [
      "Sessions",
      "<span class='chapter-number'>2</span>¬† <span class='chapter-title'>Motivation</span>"
    ]
  },
  {
    "objectID": "sessions/motivation.html#motivations-for-running-this-course",
    "href": "sessions/motivation.html#motivations-for-running-this-course",
    "title": "2¬† Motivation",
    "section": "2.3 Motivations for running this course",
    "text": "2.3 Motivations for running this course\nThe methodological framework for conducting mediation analysis has evolved rapidly in recent years, making it a crucial tool for understanding complex relationships in research. Initially rooted in basic regression techniques, mediation analysis has advanced into causal mediation analysis, enabling researchers to unravel the intricate pathways between exposures, mediators, and outcomes.\nThis short course aims to introduce the basic statistical framework, key assumptions, and practical applications of both traditional and modern mediation analysis techniques. Through real-world data examples, we‚Äôll explore how mediation analysis can enhance your research and understanding of causal relationships.\nDespite its growing importance, mediation analysis is often used incorrectly. A recent systematic review on the reporting quality of studies applying mediation analysis revealed that many studies provide incomplete reporting, which hinders both reproducibility and the translation of findings into practice ([@rrn_systematic_2022]).\nOur goal is for you to learn how to apply mediation analysis correctly and leverage it as a powerful tool to advance your research. By improving the quality and rigor of mediation analysis in your work, you can ensure more reliable findings and meaningful insights.",
    "crumbs": [
      "Sessions",
      "<span class='chapter-number'>2</span>¬† <span class='chapter-title'>Motivation</span>"
    ]
  },
  {
    "objectID": "sessions/traditional-mediation-analysis.html",
    "href": "sessions/traditional-mediation-analysis.html",
    "title": "3¬† Traditional mediation analysis",
    "section": "",
    "text": "3.1 Traditional approaches for mediation analysis\nThe two traditional approaches to mediation analysis are the difference method and the product method; also known as the Baron & Kenny-method @baron_moderatormediator_1986.\nThe traditional approach use these equations for mediator and outcome (for the case of a continuous mediator and a continuous outcome)\nMediator-model:\n\\(E(M|A=a, C=c) = \\beta_0 + \\beta_1a + \\beta_2c\\) (3.1)\nOutcome model with adjustment for mediator:\n\\(E(Y|A=a, M=m, C=c) = \\theta_0 + \\theta_1a + \\theta_2m + \\theta4c\\) (3.2)\nOutcome model without adjustment for mediator:\n\\(E(Y|A=a, C=c) = \\theta_0' + \\theta_1'a + \\theta4'c\\) (3.3)\nNote:\nNote: The terms ‚Äòmediation effect‚Äô and ‚Äòindirect effect‚Äô are used synonymously.",
    "crumbs": [
      "Sessions",
      "<span class='chapter-number'>3</span>¬† <span class='chapter-title'>Traditional mediation analysis</span>"
    ]
  },
  {
    "objectID": "sessions/traditional-mediation-analysis.html#traditional-approaches-for-mediation-analysis",
    "href": "sessions/traditional-mediation-analysis.html#traditional-approaches-for-mediation-analysis",
    "title": "3¬† Traditional mediation analysis",
    "section": "",
    "text": "total effect=\\(\\theta_1'\\) , that is the total effect of the independent variable on the dependent variable\ndirect effect=\\(\\theta_1\\)‚Äô, that is the effect of the independent variable on the dependent variable that is not mediated by the mediator\nmediation effect=\\(\\beta1*\\theta_2\\) (the product method)\nmediation effect=‚Äô\\(\\theta_1'-\\theta_1\\) (the difference method)",
    "crumbs": [
      "Sessions",
      "<span class='chapter-number'>3</span>¬† <span class='chapter-title'>Traditional mediation analysis</span>"
    ]
  },
  {
    "objectID": "sessions/traditional-mediation-analysis.html#an-example",
    "href": "sessions/traditional-mediation-analysis.html#an-example",
    "title": "3¬† Traditional mediation analysis",
    "section": "3.2 An example",
    "text": "3.2 An example\nIn this session, we will use an example to address a mediation research question using both traditional approaches.\nIt has been suggested that physical activity is associated with improved cardiovascular health. The predominant hypothesis is that physical activity contributes to weight reduction, which in turn improves cardiovascular function and lowers resting pulse rate. Therefore, we aim to investigate the extent to which the effect of physical activity on resting pulse rate is mediated by BMI.\nThe situation is depicted by below figure.\nHow much does BMI explain the relation between physical activity and pulse rate?\n\n\n\n\n\n\n\n\n\n\n\n\nExample Dataset: A Brief Overview\n\n\n\nWe‚Äôll explore the relationship between physical activity and pulse in the National Health and Nutrition Examination Survey (NHANES) dataset, which has been modified for this course with simulated variables.\nTo try this out in practice, we load the NHANES dataset, only keep the variables we need for the example.\nThe variables used in the dataset:\n\nexposure of interest (a): physical activity (continuous variable)\noutcome (y): Pulse (continuous variable)\nmediator (m): BMI (continuous variable)\n\nNote that the example is created to demonstrate the methods, and there is no clinical relevance of the results. For the convenience of analysis, we have transformed the mediator (m) and outcome variable (y) so that they follow a normal distribution.\nFour demographic variables are considered in the analysis: age, gender, education, and smoking. We assume that adjusting for these four confounding is sufficient to block the backdoor paths. Further discussion on confounding adjustment will be covered in the following session.\n\n\n\n# load the data\nnhanes &lt;- read_csv(here::here(\"data/NHANES.csv\"))\n\nRows: 10000 Columns: 76\n‚îÄ‚îÄ Column specification ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\nDelimiter: \",\"\nchr (31): SurveyYr, Gender, AgeDecade, Race1, Race3, Education, MaritalStatu...\ndbl (45): ID, Age, AgeMonths, HHIncomeMid, Poverty, HomeRooms, Weight, Lengt...\n\n‚Ñπ Use `spec()` to retrieve the full column specification for this data.\n‚Ñπ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nlibrary(dplyr)\n# keep the variables used in the analyses\ndata &lt;- nhanes %&gt;%\n  dplyr::select(\n    ID, \n    w1 = Age, \n    w2 = Gender, \n    w3 = Education, \n    w4 = Smoke100, \n    a = PhysActive, \n    m = BMI, \n    y = Pulse,\n    y2 = Diabetes\n  )  %&gt;% \n  na.omit()    \n\n\n# Physical activity is a binary variable, dichotomized as 'Yes' or 'No'. \ntable(data$a)\n\n\n  No  Yes \n3260 3656 \n\n# check the distribution of outcome \nsummary(data$y)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n  40.00   64.00   72.00   72.45   80.00  136.00 \n\nhist(data$y)\n\n\n\n\n\n\n\n# check the distribution of mediation\nsummary(data$m)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n  15.02   24.10   27.80   28.80   32.22   81.25 \n\nhist(data$m)\n\n\n\n\n\n\n\n# check the education categories and relevel \ntable(data$w3)\n\n\n     8th Grade 9 - 11th Grade   College Grad    High School   Some College \n           417            858           2028           1447           2166 \n\ndata$w3 &lt;- relevel(factor(data$w3), ref = \"College Grad\")",
    "crumbs": [
      "Sessions",
      "<span class='chapter-number'>3</span>¬† <span class='chapter-title'>Traditional mediation analysis</span>"
    ]
  },
  {
    "objectID": "sessions/traditional-mediation-analysis.html#method-1-baron-kenny-the-product-method",
    "href": "sessions/traditional-mediation-analysis.html#method-1-baron-kenny-the-product-method",
    "title": "3¬† Traditional mediation analysis",
    "section": "3.3 Method 1: Baron & Kenny (the product method)",
    "text": "3.3 Method 1: Baron & Kenny (the product method)\nAccording to Baron and Kenny (1986) @baron_moderatormediator_1986, the following criteria need to be satisfied for a variable to be considered a mediator:\n\nThe exposure should be associated with the mediator.\nIn the model for the outcome that includes both the exposure and mediator: the mediator should be associated with the outcome.\nIn the model for the outcome that includes only the exposure: the exposure should be associated with the outcome.\nWhen controlling for the mediator, the association between the exposure and outcome should be reduced, with the strongest demonstration of mediation occurring when the path from the exposure to the outcome, when controlling for the mediator is zero.\n\nThe following shows the basic steps for mediation analysis suggested by Baron & Kenny.\n\n3.3.1 Step 1: Estimate the relationship between A on M (path a)\nThat is to check the relation between exposure (physical activity) and the mediator (BMI), which corresponds to criteria 1. A mediation makes sense only if A affects M. If A and M have no relationship, M is just a third variable that may or may not be associated with Y.\nAs the mediator is a continuous variable, we can build a linear regression model, adjusting for confounders on the pathway between A and M.\n\\((E(M|A=a, C=c)\\) = \\(\\beta_0\\) + \\(\\beta_1a\\) + \\(\\beta_2c\\) (3.1)\n\nfita &lt;- lm(m ~ a + w1 + w2 + w3 + w4, data = data)\nsummary(fita)\n\n\nCall:\nlm(formula = m ~ a + w1 + w2 + w3 + w4, data = data)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-15.624  -4.526  -1.104   3.431  50.612 \n\nCoefficients:\n                  Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)      28.467603   0.323923  87.884  &lt; 2e-16 ***\naYes             -1.643518   0.170461  -9.642  &lt; 2e-16 ***\nw1                0.012135   0.004819   2.518 0.011827 *  \nw2male            0.274867   0.160396   1.714 0.086633 .  \nw38th Grade       1.271955   0.365283   3.482 0.000501 ***\nw39 - 11th Grade  1.084541   0.281211   3.857 0.000116 ***\nw3High School     1.538987   0.234533   6.562 5.70e-11 ***\nw3Some College    1.381674   0.207826   6.648 3.19e-11 ***\nw4Yes            -1.056643   0.163957  -6.445 1.24e-10 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 6.586 on 6907 degrees of freedom\nMultiple R-squared:  0.0338,    Adjusted R-squared:  0.03268 \nF-statistic:  30.2 on 8 and 6907 DF,  p-value: &lt; 2.2e-16\n\n\nHere, we see that physical activity is negatively associated with BMI (an increase of 1 unit in physical activity is associated with a 1.64 unit decrease in BMI). Individuals who are physically active have an average BMI that is 1.64 kg/m2 lower than those who are inactive, holding all other variables constant.\n\n\n3.3.2 Step 2: Estimate the relationship between M on Y controlling for A (path b)\nThat is to build the model between BMI and pulse rates, controlling for physical activity. This step corresponds to criteria (ii).\n\\((E(Y|A=a, M=m, C=c) = \\theta_0 + \\theta_1a + \\theta_2m + \\theta4c\\) (3.2)\n\nfitb &lt;- lm(y ~ a + m + w1 + w2 + w3 + w4, data = data)\nsummary(fitb)\n\n\nCall:\nlm(formula = y ~ a + m + w1 + w2 + w3 + w4, data = data)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-33.455  -8.139  -0.965   7.022  72.177 \n\nCoefficients:\n                  Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)      73.580916   0.819142  89.827  &lt; 2e-16 ***\naYes             -1.422879   0.298167  -4.772 1.86e-06 ***\nm                 0.203864   0.020907   9.751  &lt; 2e-16 ***\nw1               -0.127155   0.008377 -15.178  &lt; 2e-16 ***\nw2male           -3.728063   0.278752 -13.374  &lt; 2e-16 ***\nw38th Grade       0.458752   0.635246   0.722 0.470218    \nw39 - 11th Grade  2.113914   0.489138   4.322 1.57e-05 ***\nw3High School     0.896878   0.408775   2.194 0.028264 *  \nw3Some College    1.388716   0.362258   3.834 0.000127 ***\nw4Yes             1.520113   0.285735   5.320 1.07e-07 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 11.44 on 6906 degrees of freedom\nMultiple R-squared:  0.07538,   Adjusted R-squared:  0.07418 \nF-statistic: 62.56 on 9 and 6906 DF,  p-value: &lt; 2.2e-16\n\n\nBMI is positively associated with pulse rates after adjusting for physical activity, each one-unit increase in BMI is associated with a 0.20-unit increase in pulse rate. Physical activity remains its negative association with pulse rates.\n\n\n3.3.3 Step 3: Estimate the relationship between A on Y (path c)\nThat is to build the model between physical activity and pulse levels, without adjusting for the BMI. The only difference between step 2 and step 3 is that mediator is not included in the model.\n\\((E(Y|A=a, C=c)\\) = \\(\\theta_0'\\) + \\(\\theta_1'a\\) + \\(\\theta4'c\\) (3.3)\n\nfitc &lt;- lm(y ~ a + w1 + w2 + w3 + w4, data = data)\nsummary(fitc)\n\n\nCall:\nlm(formula = y ~ a + w1 + w2 + w3 + w4, data = data)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-32.986  -8.122  -0.982   7.106  72.020 \n\nCoefficients:\n                 Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)      79.38443    0.56664 140.095  &lt; 2e-16 ***\naYes             -1.75793    0.29819  -5.895 3.92e-09 ***\nw1               -0.12468    0.00843 -14.789  &lt; 2e-16 ***\nw2male           -3.67203    0.28058 -13.087  &lt; 2e-16 ***\nw38th Grade       0.71806    0.63900   1.124  0.26117    \nw39 - 11th Grade  2.33501    0.49193   4.747 2.11e-06 ***\nw3High School     1.21062    0.41027   2.951  0.00318 ** \nw3Some College    1.67039    0.36356   4.595 4.41e-06 ***\nw4Yes             1.30470    0.28681   4.549 5.48e-06 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 11.52 on 6907 degrees of freedom\nMultiple R-squared:  0.06265,   Adjusted R-squared:  0.06157 \nF-statistic: 57.71 on 8 and 6907 DF,  p-value: &lt; 2.2e-16\n\n\nWe can see that physical activity is associated with lower pulse levels. Specifically, if someone is physically active (compared to someone who is not), pulse decreases by 1.76 units.\nBased on the models, we can estimate the direct effect and indirect effect:\n\ndirect effect = \\(\\theta_1\\)\n\nindirect effect = \\(\\beta_1 \\theta_2\\)\n\ntotal effect = \\(\\theta_1'\\)\n\nThe direct effect (\\(\\theta_1\\)) of physical activity on pulse levels can be assessed by the coefficient of physical activity in model b.\n\ndirect_ma &lt;- fitb$coefficients[2]\ndirect_ma\n\n     aYes \n-1.422879 \n\n\nThe indirect effect can be assessed by calculating the product of \\(\\beta_1\\) \\(\\theta_2\\). In this example, the indirect effect between physical activity and pulse levels through BMI is -0.34.\n\nindirect_ma &lt;- fita$coefficients[2] * fitb$coefficients[3]\nindirect_ma\n\n     aYes \n-0.335054 \n\n\nThe total effect (\\(\\theta_1'\\)) of physical activity on pulse levels can be assessed by the coefficient of physical activity in model c, which is -1.76. You might have noticed the total effect also equals the sum of the direct effect and indirect effect.\n\ntotal_ma &lt;- fitc$coefficients[2]\ntotal_ma\n\n     aYes \n-1.757933",
    "crumbs": [
      "Sessions",
      "<span class='chapter-number'>3</span>¬† <span class='chapter-title'>Traditional mediation analysis</span>"
    ]
  },
  {
    "objectID": "sessions/traditional-mediation-analysis.html#method-2-difference-approach",
    "href": "sessions/traditional-mediation-analysis.html#method-2-difference-approach",
    "title": "3¬† Traditional mediation analysis",
    "section": "3.4 Method 2: Difference approach",
    "text": "3.4 Method 2: Difference approach\nThe difference approach is more commonly used in epidemiology. And the rational of this approach is to compare the effect of A on Y without and with adding M in the models.\nIf a mediation effect exists, the effect of A on Y will be attenuated when M is included in the regression, indicating the effect of A on Y goes through M. If the effect of A on Y completely disappears, M fully mediates between A and Y (full mediation). If the effect of A on Y still exists, but in a smaller magnitude, M partially mediates between A and Y (partial mediation).\nBack to the example, the indirect effect will be the coefficient of physical activity in model c (without adjusting for m) minus the coefficient of physical activity in model b (adjusting for m), which equals to -0.34.\n\nindirect_mb &lt;- fitc$coefficients[2] - fitb$coefficients[2]\nindirect_mb\n\n     aYes \n-0.335054 \n\n\n\n\n\n\n\n\nNote\n\n\n\nThe algebraic equivalence of the indirect effect using the product method and the difference method will coincide for a continuous outcome on the difference scale (MacKinnon 1995). However, the two methods diverge when using a binary outcome and logistic regression. (MacKinnon and Dwyer 1993).\n\n\n\n\n\n\n\n\nNote\n\n\n\nRecall the four criteria suggested by Baron and Kenny. One of the criteria is that ‚ÄòPath C must be significantly different from 0 to ensure there is a total effect between X and Y‚Äô. However, this step can be controversial. Even if we don‚Äôt find a significant association between X and Y, we could proceed to the next step if we have a strong theoretical basis for their relationship.\n\n\n\n\n\n\n\n\nGroup work - 5 minutes\n\n\n\n\nDiscuss with your group about the two traditional approaches, did you get the same results?\nDiscuss the scenarios under which there might be no significant association between A and Y.\n\n\n\n\n3.4.1 Use mediation packages\nNow we have estimated the direct and indirect effect using the product and the difference methods.You might have noticed what you got so far are only point estimates, but what if you want to see if this mediation effect is statistically significant (different from zero or not)?\nTo do so, there are two main approaches: the Sobel test @sobel_asymptotic_1982 and bootstrapping @preacher_spss_2004.\nHere we will demonstrate that we can use the mediate() function in ‚Äòmediation‚Äô package @tingley_mediation_2014 to conduct mediation analysis. One of the very good options to conduct mediation analysis using the mediation package is we can get confidence interval by bootstrapping.\nLet‚Äôs load up the R packages.\n\nlibrary(mediation) # Mediation package\n\nLoading required package: MASS\n\n\n\nAttaching package: 'MASS'\n\n\nThe following object is masked from 'package:dplyr':\n\n    select\n\n\nLoading required package: Matrix\n\n\n\nAttaching package: 'Matrix'\n\n\nThe following objects are masked from 'package:tidyr':\n\n    expand, pack, unpack\n\n\nLoading required package: mvtnorm\n\n\nLoading required package: sandwich\n\n\nmediation: Causal Mediation Analysis\nVersion: 4.5.0\n\n\nmediate() takes two model objects as input (\\(A \\rightarrow M\\) and \\(A + M \\rightarrow Y\\)) and we need to specify which variable is an IV (treatment) and a mediator (mediator). For bootstrapping, set boot = TRUE and sims to at least 500.\n\nset.seed(260524)\n\n# Fit mediator model\nlm_m &lt;- lm(m ~ a + w1 + w2 + w3 + w4, data = data)\n# Fit outcome model\nlm_y &lt;- glm(y ~ a + m + w1 + w2 + w3 + w4, data = data)\n# Run mediation analysis\nresults &lt;- mediate(lm_m, lm_y, treat = \"a\", mediator = \"m\", boot = TRUE, sims = 10) #set simulation for 10 for time effecacy\n\nWarning in mediate(lm_m, lm_y, treat = \"a\", mediator = \"m\", boot = TRUE, :\ntreatment and control values do not match factor levels; using No and Yes as\ncontrol and treatment, respectively\n\n\nRunning nonparametric bootstrap\n\nsummary(results)\n\n\nCausal Mediation Analysis \n\nNonparametric Bootstrap Confidence Intervals with the Percentile Method\n\n               Estimate 95% CI Lower 95% CI Upper p-value    \nACME             -0.335       -0.469        -0.25  &lt;2e-16 ***\nADE              -1.423       -1.731        -1.11  &lt;2e-16 ***\nTotal Effect     -1.758       -2.049        -1.40  &lt;2e-16 ***\nProp. Mediated    0.191        0.155         0.29  &lt;2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nSample Size Used: 6916 \n\n\nSimulations: 10 \n\n\n\nADE stands for average direct effects. It describes the direct effect of the A on the Y when controlling for the mediator. Note this estimate is the same as the coefficient We got in the product and difference method. But be aware we are able to get confidence interval and significance levels for the indirect effect, not only its two individual parts by bootstrapping. This is something we need for reporting the mediation.\nACME stands for average causal mediation effects. This is the indirect effect of the IV on the DV that goes through the mediator. Note that ACME estimated to be -0.34, which is the same to the traditional approached we just used.\nTotal Effect stands for the total effect (direct + indirect) of the IV onto the DV. We can also get it by adding the ACME () and the ADE () to receive the total effect.\nProp. Mediated describes the proportion of the effect of the IV on the DV that goes through the mediator. It‚Äôs calculated by dividing the ACME (-0.34) by the total effect (-1.76) and yields 0.19. The result suggests the mediator (BMI) explains 19% proportion of the effect of physical activity on pulse rate . We will talk more about proportion mediation in the next session.\n\n\n# We can also plot the estimates\nplot(results)\n\n\n\n\n\n\n\n\nFor details of the mediate() package, please refer to @tingley_mediation_2014.",
    "crumbs": [
      "Sessions",
      "<span class='chapter-number'>3</span>¬† <span class='chapter-title'>Traditional mediation analysis</span>"
    ]
  },
  {
    "objectID": "sessions/traditional-mediation-analysis.html#limitations-of-the-traditional-approach",
    "href": "sessions/traditional-mediation-analysis.html#limitations-of-the-traditional-approach",
    "title": "3¬† Traditional mediation analysis",
    "section": "3.5 Limitations of the traditional approach",
    "text": "3.5 Limitations of the traditional approach\n\nNon-linearity\nInteractions\nMultiple mediators",
    "crumbs": [
      "Sessions",
      "<span class='chapter-number'>3</span>¬† <span class='chapter-title'>Traditional mediation analysis</span>"
    ]
  },
  {
    "objectID": "sessions/traditional-mediation-analysis.html#when-can-we-use-the-traditional-approach",
    "href": "sessions/traditional-mediation-analysis.html#when-can-we-use-the-traditional-approach",
    "title": "3¬† Traditional mediation analysis",
    "section": "3.6 When can we use the traditional approach",
    "text": "3.6 When can we use the traditional approach\nWhen fulfill the criteria, simple tools like regression can be used to estimate a causal mediation effect:\n\nno unmeasured confounding\nno exposure-mediator interaction\nlinear relationship\nrare binary outcome",
    "crumbs": [
      "Sessions",
      "<span class='chapter-number'>3</span>¬† <span class='chapter-title'>Traditional mediation analysis</span>"
    ]
  },
  {
    "objectID": "sessions/traditional-mediation-analysis.html#references",
    "href": "sessions/traditional-mediation-analysis.html#references",
    "title": "3¬† Traditional mediation analysis",
    "section": "3.7 References",
    "text": "3.7 References",
    "crumbs": [
      "Sessions",
      "<span class='chapter-number'>3</span>¬† <span class='chapter-title'>Traditional mediation analysis</span>"
    ]
  },
  {
    "objectID": "appendix/welcome.html",
    "href": "appendix/welcome.html",
    "title": "Appendix A ‚Äî Mediation Ananlysis",
    "section": "",
    "text": "A.1 Welcome\nWelcome to the short workshop on Directed Acyclic Graphs (DAGs) and mediation analysis!\nInstrctors: Daniel Witte, Jie Zhang\nTime duration: 75 mins",
    "crumbs": [
      "Appendices",
      "<span class='chapter-number'>A</span>¬† <span class='chapter-title'>Mediation Ananlysis</span>"
    ]
  },
  {
    "objectID": "appendix/welcome.html#important-things-before-the-course",
    "href": "appendix/welcome.html#important-things-before-the-course",
    "title": "Appendix A ‚Äî Mediation Ananlysis",
    "section": "B.1 Important things before the course",
    "text": "B.1 Important things before the course\nTo make the most of our training course in Bangkok, please complete the pre-course tasks before you arrive. This will ensure we can start our sessions smoothly and dive right into the content!",
    "crumbs": [
      "Appendices",
      "<span class='chapter-number'>A</span>¬† <span class='chapter-title'>Mediation Ananlysis</span>"
    ]
  },
  {
    "objectID": "appendix/welcome.html#course-outline-1",
    "href": "appendix/welcome.html#course-outline-1",
    "title": "Appendix A ‚Äî Mediation Ananlysis",
    "section": "B.2 Course outline",
    "text": "B.2 Course outline\n\nMotivation\nTraditional mediation analysis\nIntroduction to causal mediation analysis\nPerform causal mediation analysis using R software\nInterpret results from causal mediation analysis",
    "crumbs": [
      "Appendices",
      "<span class='chapter-number'>A</span>¬† <span class='chapter-title'>Mediation Ananlysis</span>"
    ]
  },
  {
    "objectID": "appendix/welcome.html#acknowledgement",
    "href": "appendix/welcome.html#acknowledgement",
    "title": "Appendix A ‚Äî Mediation Ananlysis",
    "section": "B.3 Acknowledgement",
    "text": "B.3 Acknowledgement\nThis course is developed based on ‚ÄòMediation Analysis Course‚Äô developed by Daniel B. Ibsen, Omar Silverman, Jie Zhang from Steno Diabetes Center Aarhus in Denmark, and Nima Hejarzi and Ivan Diaz from the US, which is sponsored by the Danish Diabetes and Endocrine Academy.\nThe repository contains the lesson, lecture, and assignment material for the course, including the website source files and other associated course administration files. You can always go to check the website to learn more about mediation.\nhttps://analysis-of-mechanisms.netlify.app/https://analysis-of-mechanisms.netlify.app/",
    "crumbs": [
      "Appendices",
      "<span class='chapter-number'>A</span>¬† <span class='chapter-title'>Mediation Ananlysis</span>"
    ]
  }
]